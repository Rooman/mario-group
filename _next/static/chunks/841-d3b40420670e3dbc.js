"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[841],{8678:(e,r,a)=>{a.d(r,{A:()=>t});let t=(0,a(6471).A)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},8195:(e,r,a)=>{a.d(r,{A:()=>t});let t=(0,a(6471).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},7463:(e,r,a)=>{a.d(r,{eu:()=>_,q5:()=>x});var t=a(4848),n=a(6540),i=a(2133),s=a(263),d=a(8200),l=a(2579),o="Avatar",[c,f]=(0,i.A)(o),[p,y]=c(o),u=n.forwardRef((e,r)=>{let{__scopeAvatar:a,...i}=e,[s,d]=n.useState("idle");return(0,t.jsx)(p,{scope:a,imageLoadingStatus:s,onImageLoadingStatusChange:d,children:(0,t.jsx)(l.sG.span,{...i,ref:r})})});u.displayName=o;var m="AvatarImage",v=n.forwardRef((e,r)=>{let{__scopeAvatar:a,src:i,onLoadingStatusChange:o=()=>{},...c}=e,f=y(m,a),p=function(e,r){let[a,t]=n.useState("idle");return(0,d.N)(()=>{if(!e){t("error");return}let a=!0,n=new window.Image,i=e=>()=>{a&&t(e)};return t("loading"),n.onload=i("loaded"),n.onerror=i("error"),n.src=e,r&&(n.referrerPolicy=r),()=>{a=!1}},[e,r]),a}(i,c.referrerPolicy),u=(0,s.c)(e=>{o(e),f.onImageLoadingStatusChange(e)});return(0,d.N)(()=>{"idle"!==p&&u(p)},[p,u]),"loaded"===p?(0,t.jsx)(l.sG.img,{...c,ref:r,src:i}):null});v.displayName=m;var h="AvatarFallback",w=n.forwardRef((e,r)=>{let{__scopeAvatar:a,delayMs:i,...s}=e,d=y(h,a),[o,c]=n.useState(void 0===i);return n.useEffect(()=>{if(void 0!==i){let e=window.setTimeout(()=>c(!0),i);return()=>window.clearTimeout(e)}},[i]),o&&"loaded"!==d.imageLoadingStatus?(0,t.jsx)(l.sG.span,{...s,ref:r}):null});w.displayName=h;var g=a(4212);let _=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(u,{ref:r,className:(0,g.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...n})});_.displayName=u.displayName,n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(v,{ref:r,className:(0,g.cn)("aspect-square h-full w-full",a),...n})}).displayName=v.displayName;let x=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(w,{ref:r,className:(0,g.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...n})});x.displayName=w.displayName},8286:(e,r,a)=>{a.d(r,{E:()=>d});var t=a(4848);a(6540);var n=a(6990),i=a(4212);let s=(0,n.F)("inline-flex w-fit items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:r,variant:a,...n}=e;return(0,t.jsx)("div",{className:(0,i.cn)(s({variant:a}),r),...n})}},551:(e,r,a)=>{a.d(r,{$:()=>o,r:()=>l});var t=a(4848),n=a(6540),i=a(3362),s=a(6990),d=a(4212);let l=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,r)=>{let{className:a,variant:n,size:s,asChild:o=!1,...c}=e,f=o?i.DX:"button";return(0,t.jsx)(f,{className:(0,d.cn)(l({variant:n,size:s,className:a})),ref:r,...c})});o.displayName="Button"},1741:(e,r,a)=>{a.d(r,{Wu:()=>d,Zp:()=>s});var t=a(4848),n=a(6540),i=a(4212);let s=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...n})});s.displayName="Card",n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...n})}).displayName="CardHeader",n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("font-semibold leading-none tracking-tight",a),...n})}).displayName="CardTitle",n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",a),...n})}).displayName="CardDescription";let d=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",a),...n})});d.displayName="CardContent",n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter"},8755:(e,r,a)=>{a.d(r,{$k:()=>s,a$:()=>i,jv:()=>d,yc:()=>n});let t=(0,a(5183).UU)("https://ptakgadlsitwkrgpgwhe.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0YWtnYWRsc2l0d2tyZ3Bnd2hlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjE4NjQ0MzUsImV4cCI6MjAzNzQ0MDQzNX0.9eRCdNNJJ3qSqiTXlWSgoH7ZCYfVtM5xyDZy7LZgIqI",{auth:{localStorage:!0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),n=["Medicover","Multisport","Classic","No card"],i={async getAllPlayers(){let{data:e,error:r}=await t.from("players").select("*").order("name");if(r)throw r;return e},async addPlayer(e,r){let{data:a,error:n}=await t.from("players").insert([{name:e,cardType:r}]).select().single();if(n)throw n;return a},async editPlayer(e,r,a){let{data:n,error:i}=await t.from("players").update({name:r,cardType:a}).eq("id",e).select().single();if(i)throw i;return n},async removePlayer(e){let{error:r}=await t.from("players").delete().eq("id",e);if(r)throw r}},s={async getAllReservationLists(){let{data:e,error:r}=await t.from("reservation_lists").select("\n        id,\n        name,\n        created_at,\n        players:player_reservations(\n          players(id, name, created_at, cardType)\n        )\n      ").order("created_at",{ascending:!0});if(r)throw r;return e.map(e=>({id:e.id,name:e.name,created_at:e.created_at,players:e.players.map(e=>e.players)}))},async addReservationList(e,r){console.log("Adding reservation list:",e,r);let{data:a,error:n}=await t.from("reservation_lists").insert([{name:e}]).select().single();if(n)throw n;if(r.length>0){let e=r.map(e=>({reservation_id:a.id,player_id:e})),{error:n}=await t.from("player_reservations").insert(e);if(n)throw n}let{data:i,error:s}=await t.from("reservation_lists").select("\n        id,\n        name,\n        created_at,\n        players:player_reservations(\n          players(id, name, created_at, cardType)\n        )\n      ").eq("id",a.id).single();if(s)throw s;return{id:i.id,name:i.name,created_at:i.created_at,players:i.players.map(e=>e.players)}},async removeReservationList(e){let{error:r}=await t.from("reservation_lists").delete().eq("id",e);if(r)throw r},async updateReservationPlayers(e,r){let{error:a}=await t.from("player_reservations").delete().eq("reservation_id",e);if(a)throw a;if(r.length>0){let a=r.map(r=>({reservation_id:e,player_id:r})),{error:n}=await t.from("player_reservations").insert(a);if(n)throw n}}},d={async addEvent(e,r){let{data:a,error:n}=await t.from("events").insert([{name:e}]).select().single();if(n)throw n;if(r.length>0){let e=r.map(e=>({event_id:a.id,player_id:e})),{error:n}=await t.from("player_events").insert(e);if(n)throw n}let{data:i,error:s}=await t.from("events").select("\n        id,\n        name,\n        created_at,\n        players:player_events(\n          players(id, name, created_at, cardType)\n        )\n      ").eq("id",a.id).single();if(s)throw s;return{id:i.id,name:i.name,created_at:i.created_at,players:i.players.map(e=>e.players)}},async getLastEvent(){let{data:e,error:r}=await t.from("events").select("\n        id,\n        name,\n        created_at,\n        players:player_events(\n          players(id, name, created_at, cardType)\n        )\n      ").order("created_at",{ascending:!1}).limit(1).single();if(r)throw r;return e?{id:e.id,name:e.name,created_at:e.created_at,players:e.players.map(e=>e.players)}:null},async updateEvent(e,r,a){let{error:n}=await t.from("events").update({name:r}).eq("id",e);if(n)throw n;let{error:i}=await t.from("player_events").delete().eq("event_id",e);if(i)throw i;let{error:s}=await t.from("player_event_payments").delete().eq("event_id",e);if(s)throw s;if(a.length>0){let r=a.map(r=>({event_id:e,player_id:r})),{error:n}=await t.from("player_events").insert(r);if(n)throw n;let i=a.map(r=>({event_id:e,player_id:r,paid:!1})),{error:s}=await t.from("player_event_payments").insert(i);if(s)throw s}},async getEventPayments(e){let{data:r,error:a}=await t.from("player_event_payments").select("player_id, paid").eq("event_id",e);if(a)throw a;return r.reduce((e,r)=>(e[r.player_id]=r.paid,e),{})},async updatePlayerPayment(e,r,a){let{error:n}=await t.from("player_event_payments").upsert({event_id:e,player_id:r,paid:a},{onConflict:"event_id,player_id",ignoreDuplicates:!1});if(n)throw n}}},4212:(e,r,a)=>{a.d(r,{cn:()=>i});var t=a(4164),n=a(856);function i(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,n.QP)((0,t.$)(r))}}}]);