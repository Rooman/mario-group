(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2022:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(5102)}])},5102:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u,metadata:()=>x});var t=a(4848),c=a(6540),r=a(7463),l=a(8286),n=a(551),i=a(1741),d=a(8755),o=a(8678),m=a(8195);let x={title:"Player Reservation App",description:"Manage players and reservations"},h=["Medicover","Multisport","Classic","No card"];function u(e){let{children:s}=e,[a,x]=(0,c.useState)(!0),[u,p]=(0,c.useState)(null),[f,g]=(0,c.useState)({});if((0,c.useEffect)(()=>{(async()=>{try{let e=await d.jv.getLastEvent();if(p(e),e){let s=await d.jv.getEventPayments(e.id);g(s)}}catch(e){console.error("Failed to load event:",e)}finally{x(!1)}})()},[]),a)return(0,t.jsx)("div",{children:"Loading..."});if(!u)return(0,t.jsx)("div",{children:"No event found"});function j(e){switch(e){case"Medicover":return"bg-blue-100 text-blue-800";case"Multisport":return"bg-green-100 text-green-800";case"Classic":return"bg-yellow-100 text-yellow-800";case"No card":return"bg-orange-100 text-slate-800";default:return"bg-gray-100 text-gray-800"}}let N=u.players.reduce((e,s)=>(e[s.cardType]=(e[s.cardType]||0)+1,e),{}),v=h.map(e=>({type:e,count:N[e]||0})),w=[...u.players].sort((e,s)=>h.indexOf(e.cardType)-h.indexOf(s.cardType)),y=N.Medicover||0,b=N.Multisport||0,E=N.Classic||0,_=N["No card"]||0;return(0,t.jsxs)("div",{className:"space-y-8 container mx-auto p-4",children:[(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-gradient-to-r from-[#2E2A5D] to-[#7B3C7D] text-white rounded-lg p-6 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[(0,t.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 sm:mb-0",children:u.name}),(0,t.jsx)(n.$,{asChild:!0,className:"bg-white hidden w-full text-[#2E2A5D] hover:bg-gray-100 transition-colors duration-200 sm:w-fit sm:flex",children:(0,t.jsxs)("a",{target:"_blank",href:"https://rooman.github.io/ffp-2?mc=".concat(y,"&ms=").concat(b,"&msc=").concat(E,"&nc=").concat(_),children:[(0,t.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Calculate"]})})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center ",children:[(0,t.jsx)(m.A,{className:"w-5 h-5 mr-2"}),(0,t.jsxs)("span",{children:[u.players.length," Players"]})]}),v.map(e=>{let{type:s,count:a}=e;return(0,t.jsxs)(l.E,{className:"".concat(j(s)," text-xs"),children:[s,": ",a]},s)})]}),(0,t.jsx)(n.$,{asChild:!0,className:"mt-4 bg-white w-full text-[#2E2A5D] hover:bg-gray-100 transition-colors duration-200 sm:hidden",children:(0,t.jsxs)("a",{target:"_blank",href:"https://rooman.github.io/ffp-2?mc=".concat(N.Medicover,"&ms=").concat(N.Multisport,"&msc=").concat(N.Classic,"&nc=").concat(N["No card"]),children:[(0,t.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Calculate"]})})]})}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(w||[]).map(e=>e?(0,t.jsx)(i.Zp,{className:"transition-colors duration-200",children:(0,t.jsxs)(i.Wu,{className:"flex items-center p-4",children:[(0,t.jsx)(r.eu,{className:"h-10 w-10 mr-4",children:(0,t.jsx)(r.q5,{className:"bg-[#7B3C7D] text-white",children:e.name.split(" ").map(e=>e[0]).join("").toUpperCase()})}),(0,t.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-[#2E2A5D] font-medium",children:e.name}),(0,t.jsx)("span",{className:"font-medium ".concat(f[e.id]?"text-green-600":"text-orange-400"),children:f[e.id]?"Paid":"Unpaid"})]}),(0,t.jsx)(l.E,{className:"mt-1 ".concat(j(e.cardType)),children:e.cardType})]})]})},e.id):null)})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[399,841,636,593,792],()=>s(2022)),_N_E=e.O()}]);