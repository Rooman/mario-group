(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[646],{5052:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/players",function(){return s(7760)}])},259:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(6471).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},342:(e,a,s)=>{"use strict";s.d(a,{CG:()=>c,Fm:()=>u,Qs:()=>j,XW:()=>f,cj:()=>o,h:()=>x,qp:()=>y});var t=s(4848),l=s(6540),r=s(990),n=s(6990),i=s(7644),d=s(4212);let o=r.bL,c=r.l9;r.bm;let h=r.ZL,m=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.hJ,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l,ref:a})});m.displayName=r.hJ.displayName;let p=(0,n.F)("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),x=l.forwardRef((e,a)=>{let{side:s="right",className:l,children:n,...o}=e;return(0,t.jsxs)(h,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(r.UC,{ref:a,className:(0,d.cn)(p({side:s}),l),...o,children:[(0,t.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]}),n]})]})});x.displayName=r.UC.displayName;let u=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...s})};u.displayName="SheetHeader";let f=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};f.displayName="SheetFooter";let y=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.hE,{ref:a,className:(0,d.cn)("text-lg font-semibold text-foreground",s),...l})});y.displayName=r.hE.displayName;let j=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.VY,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",s),...l})});j.displayName=r.VY.displayName},7760:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>y});var t=s(4848),l=s(6540),r=s(551),n=s(8743),i=s(8205),d=s(342),o=s(8755);function c(e){let{player:a,onSave:s,trigger:c}=e,[h,m]=(0,l.useState)(!1),[p,x]=(0,l.useState)(a.name),[u,f]=(0,l.useState)((null==a?void 0:a.cardType)||"Multisport");return(0,l.useEffect)(()=>{x(a.name),f(a.cardType)},[a]),(0,t.jsxs)(d.cj,{open:h,onOpenChange:m,children:[(0,t.jsx)(d.CG,{asChild:!0,children:c}),(0,t.jsxs)(d.h,{children:[(0,t.jsxs)(d.Fm,{children:[(0,t.jsx)(d.qp,{children:"Edit Player"}),(0,t.jsx)(d.Qs,{children:"Make changes to the player's information here."})]}),(0,t.jsxs)("form",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"playerName",children:"Player Name"}),(0,t.jsx)(n.p,{id:"playerName",value:p,onChange:e=>x(e.target.value),placeholder:"Enter player name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{children:"Card Type"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:o.yc.map(e=>(0,t.jsx)(r.$,{type:"button",variant:u===e?"default":"outline",onClick:()=>f(e),className:u===e?" bg-slate-800 text-white ":"border-slate-500 text-slate-900 bg-white",children:e},e))})]}),(0,t.jsx)(d.XW,{children:(0,t.jsx)(r.$,{type:"submit",onClick:e=>{e.preventDefault(),console.log("Saving player:",{...a,name:p}),s({...a,name:p,cardType:u}),m(!1)},children:"Save Changes"})})]})]})]})}var h=s(1741),m=s(259),p=s(1297),x=s(7700),u=s(8652);function f(e){let{refreshTrigger:a=0}=e,[s,n]=(0,l.useState)([]),i=async()=>{n(await o.a$.getAllPlayers())};(0,l.useEffect)(()=>{i()},[a]);let d=async e=>{try{await o.a$.editPlayer(e.id,e.name,e.cardType),await i()}catch(e){console.error("Failed to update player:",e)}},f=async e=>{try{await o.a$.removePlayer(e),await i()}catch(e){console.error("Failed to delete player:",e)}};return(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>(0,t.jsx)(h.Zp,{children:(0,t.jsx)(h.Wu,{className:"flex items-center justify-between p-4",children:(0,t.jsx)(u.A,{player:e,children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(c,{player:e,onSave:d,trigger:(0,t.jsxs)(r.$,{size:"icon",variant:"ghost",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Edit player"})]})}),(0,t.jsxs)(x.Lt,{children:[(0,t.jsx)(x.tv,{asChild:!0,children:(0,t.jsxs)(r.$,{size:"icon",variant:"ghost",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Delete player"})]})}),(0,t.jsxs)(x.EO,{children:[(0,t.jsxs)(x.wd,{children:[(0,t.jsx)(x.r7,{children:"Are you sure?"}),(0,t.jsx)(x.$v,{children:"This action cannot be undone. This will permanently delete the player from the system."})]}),(0,t.jsxs)(x.ck,{children:[(0,t.jsx)(x.Zr,{children:"Cancel"}),(0,t.jsx)(x.Rx,{onClick:()=>f(e.id),children:"Delete"})]})]})]})]})})})},e.id))})}let y=(0,s(4642).c)(function(){let[e,a]=(0,l.useState)(0),s=async e=>{await o.a$.addPlayer(e.name,e.cardType),a(e=>e+1)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between items-start items-center gap-4",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold",children:"Players"}),(0,t.jsx)(c,{player:{id:"",name:"",cardType:"Multisport"},onSave:s,trigger:(0,t.jsx)(r.$,{children:"Add Player"})})]}),(0,t.jsx)(f,{refreshTrigger:e})]})})}},e=>{var a=a=>e(e.s=a);e.O(0,[399,228,164,636,593,792],()=>a(5052)),_N_E=e.O()}]);